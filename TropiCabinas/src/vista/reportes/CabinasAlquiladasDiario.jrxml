<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" language="groovy" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="40717a7f-9e1e-49cd-ab98-60afbc9dee0a">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="Title" fontName="Arial" fontSize="26" isBold="true" pdfFontName="Helvetica-Bold"/>
	<style name="SubTitle" forecolor="#666666" fontName="Arial" fontSize="18"/>
	<style name="Column header" forecolor="#666666" fontName="Arial" fontSize="12" isBold="true"/>
	<style name="Detail" fontName="Arial" fontSize="12"/>
	<parameter name="sumPrecioTotal" class="java.lang.Double">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[SELECT 
    cabina.descripcion_cabina,
    cliente_empresa.codigo_cliente,
    factura_cabina.factura_id,
    factura_cabina.cant_dia,
    factura_cabina.fecha,
    factura_cabina.impuesto_cabina,
    factura_cabina.precio_total_cabina,
    factura_cabina.cabina_cabina_id,
    (SELECT 
            nombre
        FROM
            pct3.colaborador
                INNER JOIN
            pct3.persona ON colaborador.persona_idpersona = persona.idpersona
        WHERE
            empleado_id = 3) AS nombreColaborador,
    factura_cabina.numero_factura,
    factura_cabina.cliente_empresa_empresa_id,
    persona.nombre AS nombre_cliente
FROM
    cabina
        INNER JOIN
    factura_cabina ON cabina.cabina_id = factura_cabina.cabina_cabina_id
        INNER JOIN
    cliente_empresa ON factura_cabina.cliente_empresa_empresa_id = cliente_empresa.empresa_id
        INNER JOIN
    persona ON cliente_empresa.persona_idpersona = persona.idpersona
        INNER JOIN
    colaborador ON factura_cabina.colaborador_empleado_id = colaborador.empleado_id]]>
	</queryString>
	<field name="descripcion_cabina" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombre_cliente" class="java.lang.String"/>
	<field name="codigo_cliente" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="numero_factura" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fecha" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="impuesto_cabina" class="java.lang.Float">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="precio_total_cabina" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="nombreColaborador" class="java.lang.String"/>
	<group name="fecha">
		<groupExpression><![CDATA[$F{fecha}]]></groupExpression>
		<groupHeader>
			<band height="40">
				<textField>
					<reportElement style="SubTitle" x="47" y="13" width="506" height="24" forecolor="#990099" uuid="2c72cfc4-ef05-436f-bd25-b1fba0b5bd19"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{fecha}]]></textFieldExpression>
				</textField>
				<rectangle>
					<reportElement mode="Opaque" x="0" y="13" width="36" height="24" forecolor="#CCCCCC" backcolor="#CCCCCC" uuid="c2466387-14ef-4d8e-b841-c2d3051e2e03"/>
				</rectangle>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="6"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="70" splitType="Stretch">
			<image>
				<reportElement x="275" y="0" width="300" height="64" uuid="da3f5b76-1f35-46bc-9ea5-9abaa5e5ed31"/>
				<imageExpression><![CDATA["leaf_banner_violet.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement style="Title" x="0" y="13" width="263" height="33" uuid="b1578489-4422-4708-8231-7e9f9a0d0a45"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Leaf Violet Title]]></text>
			</staticText>
			<staticText>
				<reportElement style="SubTitle" x="63" y="46" width="200" height="22" uuid="54a100c8-d9ff-4fa7-9848-e288283f0fb0"/>
				<textElement textAlignment="Right"/>
				<text><![CDATA[Leaf Violet SubTitle]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="36" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="35" width="555" height="1" uuid="a6265454-e320-4654-bc8b-ae84d817e1ca"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<staticText>
				<reportElement style="Column header" x="0" y="19" width="79" height="15" uuid="55a413a7-d205-4d9c-a625-1d0f2bed2996"/>
				<text><![CDATA[descripcion_cabina]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="79" y="19" width="79" height="15" uuid="f99a169d-bfae-4786-a37b-c9c030463f56"/>
				<text><![CDATA[nombre_cliente]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="158" y="19" width="79" height="15" uuid="66abb4d3-8eaf-4dd2-bd5e-54b067b0a85e"/>
				<text><![CDATA[codigo_cliente]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="237" y="19" width="79" height="15" uuid="34df314e-40e6-4c7e-a1d1-517eb1c79e93"/>
				<text><![CDATA[numero_factura]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="316" y="19" width="79" height="15" uuid="b0c4f20a-4305-4834-9d5d-27465945c384"/>
				<text><![CDATA[impuesto_cabina]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="395" y="19" width="79" height="15" uuid="097e5889-6f0c-4de6-9822-f19f1c6dcb3b"/>
				<text><![CDATA[precio_total_cabina]]></text>
			</staticText>
			<staticText>
				<reportElement style="Column header" x="474" y="19" width="79" height="15" uuid="297c6258-e0a4-4f21-b919-6fcfa57adfa2"/>
				<text><![CDATA[nombreColaborador]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="16" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="15" width="555" height="1" uuid="cfa95bf5-916d-4e5c-8039-affbed5ea9c9"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement style="Detail" x="0" y="0" width="79" height="15" uuid="b12ff038-2dbc-4ae8-824d-f37d164e7a94"/>
				<textFieldExpression><![CDATA[$F{descripcion_cabina}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Detail" x="79" y="0" width="79" height="15" uuid="be414e0f-3c44-408f-b26d-36036a8df6e6"/>
				<textFieldExpression><![CDATA[$F{nombre_cliente}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Detail" x="158" y="0" width="79" height="15" uuid="41c069ff-ccd6-442b-9529-5a84366810fc"/>
				<textFieldExpression><![CDATA[$F{codigo_cliente}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Detail" x="237" y="0" width="79" height="15" uuid="d66c3109-40a7-4409-8842-902fd0e6fbc8"/>
				<textFieldExpression><![CDATA[$F{numero_factura}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Detail" x="316" y="0" width="79" height="15" uuid="7c391ddf-56ca-4ec1-b68a-69dad610d143"/>
				<textFieldExpression><![CDATA[$F{impuesto_cabina}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Detail" x="395" y="0" width="79" height="15" uuid="16b3adef-bd2e-46bb-92ca-3fa5dbe8c0df"/>
				<textFieldExpression><![CDATA[$F{precio_total_cabina}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Detail" x="474" y="0" width="79" height="15" uuid="c6f145af-aedf-4382-82df-6b222954da39"/>
				<textFieldExpression><![CDATA[$F{nombreColaborador}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="3" width="555" height="1" uuid="b984a721-bb66-4df6-b1db-5642e627304a"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement style="Column header" x="433" y="0" width="80" height="20" uuid="66155376-6f4a-474a-bbd7-56538a9ca9c7"/>
				<textElement textAlignment="Right">
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement style="Column header" x="513" y="0" width="40" height="20" uuid="113c9898-560b-4ecc-a0ba-8039a032912a"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement style="Column header" x="0" y="0" width="197" height="20" uuid="1d0b6c76-53f8-4a38-971b-7e44df654d67"/>
				<textElement>
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
